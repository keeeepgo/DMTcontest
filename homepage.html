<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="bootstrap-3.3.7-dist/css/bootstrap.css" />
	<script src="js/jquery-3.3.1.js"></script>
	<script src="bootstrap-3.3.7-dist/js/bootstrap.js"></script>
	<link rel="stylesheet" type="text/css" href="css/homepage.css" />
	<link rel="stylesheet" type="text/css" href="css/news.css" />
	<link rel="stylesheet" type="text/css" href="css/sideBar.css" />
	<link rel="stylesheet" href="iconfont/material-icons.css" />
	<link rel="stylesheet" type="text/css" href="css/vuelist.css" />
	<link rel="stylesheet" type="text/css" href="css/tagcloud.css" />
	<script type="text/javascript" src="layui/layui.js"></script>
	<script type="text/javascript" src="js/tagcloud.js"></script>
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/echarts.js"></script>
	<script src="js/macarons.js"></script>

	<style type="text/css">
		.row {
			box-shadow: 0 0 50px 0 rgba(0, 0, 0, .25);
		}

		.row:after {
			content: "";
			clear: both;
			display: block;
			height: auto;
		}

		.sidemovein {
			-webkit-transform: translateX(1200px) rotateY(-45deg);
			transform: translateX(1200px) rotateY(-45deg);
		}

		.sidemoveout {
			-webkit-transform: rotateY(0deg);
			transform: rotateY(0deg);
		}

		circle {
			-webkit-transition: stroke-dasharray .25s;
			transition: stroke-dasharray .25s;
		}

		.titlemovedown {
			position: fixed;
			top: 10px;
			background-color: white;
		}
	</style>
</head>

<body>

	<div id="top"></div>
	<nav class="menu-activea">
		<h1>Menu</h1>
		<div style="height:111px;"></div>
		<ul>
			<li>
				<b>资讯</b>
			</li><hr>
			<li>
				<b>笔记</b>
			</li><hr>
			<li>
				<b>编辑</b>
			</li><hr>
			<li>
				<b>设置</b>
			</li><hr>
		</ul>
	</nav>
	<main id="Main">
		<section id="newspage">
			<div class="row">
				<div class="col-md-3">
					<div class="vuelist" id="newslist" >
						<h1>资讯列表</h1>
						<div style="font-size:1.2em;">正在阅读的文章：{{ nowread_newsTitle }}</div>
						<template v-if="todo.length">
							<ul>
								<li stagger="5000" v-bind:class="item.done ? 'done' : ''" v-for="item in todoByStatus">
									<span class="label" v-bind:aria-label="item.done ? 'Undone' : 'Done'" v-bind:title="item.done ? 'Undone' : 'Done'" v-on:click="markAsDoneOrUndone(item);changeReadNow(item)">{{item.newsTitle}}</span>
									<div class="actions">
										<button class="btn-picto" type="button">
											<i aria-hidden="true" class="material-icons">{{ item.done ? 'check_box' : 'check_box_outline_blank' }}</i>
										</button>

									</div>
								</li>
							</ul>
							<togglebutton label="移动已看文章" name="movedone" v-on:clicked="movedonetoogle"></togglebutton>
							</template>
							<p class="emptylist" v-else="">列表是空的。</p>
						</div>
					</div>
				</div>

				<div class="newsborder col-md-8 " style="padding-right:7rem">
					<div id="news_title">中国民企自主研制通用飞机GA20今日在江西南昌下线，并完成首次滑跑演示。</div>
					<hr class="layui-bg-cyan">
					<div id="news_headimg"></div>
					<div id="news_content">
						<div class="news_txt" data-size="standard">
							<p>
							</p>
							<div>中国民企自主研制通用飞机GA20今日在江西南昌下线，并完成首次滑跑演示。</div>5月21日，由民营企业江西冠一通用飞机有限公司（冠一通飞）自主研制的单发四座固定翼通用飞机GA20的首架机在江西南昌高新区顺利下线、并完成滑跑演示。
							<p></p>
							<p>GA20从设计研发到下线历时三年时间，冠一通飞董事长朱颂华在下线仪式上表示，“我是‘老来得子’，从一个想法到一整架飞机完整定义，到一项项技术方案的落实，到一张张图纸，到一个个零件，再到飞机成功下线，比养孩子难多了。”</p>
							<p>“三年多时间，我们从型号研发开始，需要攻克数不胜数的难关，譬如如何实现飞机气动阻力最小，如何平衡各个专业之间的矛盾，如何满足从1米50到1米90身高飞行员的最佳飞行体验，每一个零件如何设计重量最轻且可制造性和经济性最高等，这些难题的解决，让我们走完了研制飞机‘知其然更知其所以然’的过程。”朱颂华表示。</p>
							<p>据冠一通飞GA20总设计师Jean-Paul VAUNOIS介绍，GA20为单发四座固定翼螺旋桨通用飞机，搭载LycomingO320发动机、Garmin航电系统和全碳纤螺旋桨，采用金属为主与碳纤复材为辅的结构设计，最大续航里程可达1200公里、最大速度可达360公里/小时，爬升率达3.4米/秒，在2600米高度75%功率的情况下燃油消耗量32升/小时。</p>
							<p>同时，GA20还采用“定制化”操作，以多种动力、多种设备选型、多款内饰设计，满足不同用户需求，可用于飞行培训、航空旅游、飞行体验、私人飞行等领域。</p>
							<p>
							</p>
							<div style="text-align: center;">
								<img src="http://image.thepaper.cn/www/image/7/831/66.jpg" width="600" height="450" style="margin:0.7em 0" />
							</div>
<<<<<<< HEAD
							<div class="go_to_topic"></div>
						</div>
						<div id="score_news_div">
							<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
							  <legend>这篇推送怎么样？评个分吧！
							  <br><div id="score_news_rate"></div></legend>
							</fieldset>
						</div>
						<div id="next_news_div" class="col-md-offset-3 col-md-8" style="cursor: pointer;">
							<i id="next_news_icon" aria-hidden="true" class="material-icons" style="font-size: 3rem;color: #353441">expand_more</i>
							<span>下一篇：</span>
							<span id="next_news_title" >没有了</span>
						</div>
						<div class="go_to_topic"></div>
					</div>
				</div>
				<div id="fontcontrols">
					<a href="#" id="small">A</a>
					<a href="#" id="medium" class="selected">A</a>
					<a href="#" id="large">A</a>
				</div>

				<div id="userIcon">
					<div>
						<svg id="process" width="70" height="70" viewbox="0 0 500 500">
							<circle cx="250" cy="250" r="150" stroke-width="20" stroke="#D1D3D7" fill="white"></circle>
							<circle id="circleprocess" cx="250" cy="250" r="200" stroke-width="10" stroke="#353441" stroke-linecap="square" fill="none"
							    transform="matrix(0,-1,1,0,0,500)" stroke-dasharray="0 10000"></circle>
						</svg>
						<button id="scrolltop_btn">
							<i id="process_icon" aria-hidden="true" class="material-icons">arrow_upward</i>
						</button>
					</div>
					<div>
						<svg id="process" width="70" height="70" viewbox="0 0 500 500">
							<circle cx="250" cy="250" r="150" stroke-width="20" stroke="#D1D3D7" fill="white"></circle>

						</svg>
						<button id="add_waitnews_btn" type="button" >
							<i aria-hidden="true" class="material-icons" >add</i>
						</button>
					</div>
				</div>
			</div>
		</section>
	</main>
	<a id="sidebutton">
		<i id="sidebar" aria-hidden="true" class="material-icons">arrow_forward</i>
	</a>

	<div id="siderbar" class="container sidemovein">
		<div class="row">
			<div class="col-md-12">
				<div class="wrapper" id="wrapper">
					<div class="tagcloud" id="tagcloud">
						<a>tag</a>
					</div>
				</div>
				<!--wrapper-->
				<div class="vuelist" id="taglist">
					<h1>个人标签列表</h1>
					<template v-if="tags.length">
						<ul>
							<li stagger="5000" v-for="item in tags">
								<span class="label">{{item.tagContent}}</span>
								<div class="actions">
									<button class="btn-picto" type="button" v-on:click="changeReadNow(item)">
										<img src="images/eye.png" />
									</button>
									<button aria-label="Delete" class="btn-picto" title="Delete" type="button" v-on:click="deleteItemFromList(item)">
										<i aria-hidden="true" class="material-icons">delete</i>
									</button>
								</div>
							</li>
						</ul>
						</template>
						<p class="emptylist" v-else="">列表是空的。</p>
						<form name="newform" v-on:submit.prevent="addItem">
							<label for="newtag">添加到个人标签列表</label>
							<input id="newtag" name="newtag" type="text" v-model="newtag" />
						<button type="submit" class="material-icons">add</button></form>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="vuelist" id="waitlist">
					<h1>待看文章</h1>
					<div style="font-size:1.2em;">正在阅读的文章：{{ nowread_newsTitle }}</div>
					<template v-if="todo.length">
						<ul>
							<li stagger="5000" v-bind:class="item.done ? 'done' : ''" v-for="item in todoByStatus">
								<span class="label">{{item.newsTitle}}</span>
								<div class="actions">
									<button class="btn-picto" type="button" v-on:click="changeReadNow(item)">
										<img src="images/eye.png" />
									</button>
									<button class="btn-picto" type="button" v-bind:aria-label="item.done ? 'Undone' : 'Done'" v-bind:title="item.done ? 'Undone' : 'Done'"
									    v-on:click="markAsDoneOrUndone(item)">
										<i aria-hidden="true" class="material-icons">{{ item.done ? 'check_box' : 'check_box_outline_blank' }}</i>
									</button>
									<button aria-label="Delete" class="btn-picto" title="Delete" type="button" v-on:click="deleteItemFromList(item)">
										<i aria-hidden="true" class="material-icons">delete</i>
									</button>
								</div>
							</li>
						</ul>
						<togglebutton label="移动已看文章" name="movewaitdone" v-on:clicked="movewaitdonetoogle"></togglebutton>
						</template>
						<p class="emptylist" v-else="">列表是空的。</p>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div id="vitality" style="width:100%;height:300px;"></div>
				<script type="text/javascript" src="js/vitalitychart.js"></script>
			</div>
		</div>
	</div>

	<script src="js/news.js"></script>
	<script src="js/newslist.js"></script>
	<script src="js/taglist.js"></script>
	<script src="js/waitlist.js"></script>
	<script src="js/homepage.js"></script>
	<script src="js/changeFont.js"></script>
	<script type="text/javascript">
		var showornot = false;
		$("#sidebutton").click(function () {
			if (showornot == false) {
				$("#siderbar").removeClass('sidemovein');
				$("#siderbar").addClass('sidemoveout');
				showornot = true;
			} else {
				$("#siderbar").removeClass('sidemoveout');
				$("#siderbar").addClass('sidemovein');
				showornot = false;
			}
		});
				$('#scrolltop_span').mouseout(function(){
					var layer = layui.layer;
					layer.close(add_waitnews_tip);
				});
			}); 
			
			layui.use(['rate'], function(){
  				var rate = layui.rate;
  				rate.render({
				    elem: '#score_news_rate'
				    ,value: 3
				    ,text: true
				    ,setText: function(value){ //自定义文本的回调
				      var arrs = {
				        '1': '厌恶  （以后绝对不给你推送这类文章的）'
				        ,'2': '不喜欢 （以后少给你推送这种文章啦）'
				        ,'3': '没感觉'
				        ,'4': '喜欢 （以后多多你推送这种文章咯）'
				        ,'5': '超爱 （有这类文章的话绝对会推送哦）'
				      };
				      this.span.text(arrs[value] || ( value + "星"));
				    }
				});
  			});

		var Main = document.getElementById("newspage");
		console.log(Main.scrollHeight);
		Main.onscroll = function () {
			if (Main.scrollTop >= 200) {
				$("#news_title").addClass("titlemovedown");
				$("#news_title").addClass("col-md-7");
			} else {
				$("#news_title").removeClass("titlemovedown");
				$("#news_title").removeClass("col-md-7");
			}
			document.getElementById("circleprocess").setAttribute("stroke-dasharray", (Main.scrollTop / (Main.scrollHeight -
				document.body.clientHeight)) * 1500 + " 10000");

			if (Main.scrollTop / (Main.scrollHeight - document.body.clientHeight) >= 0.9) {
				$("#process_icon").html("done");
			}
		}

		var url_FinishedNews = "http://localhost:8080/FinishedNews?userId=" + userId + "&newsId=" + nowread_newsId;;

		function PostFinishedNews() {
			var xhr = new XMLHttpRequest();
			var url = url_WaitNewsList;
			xhr.open("POST", url, true);
			var this_list = this;
			xhr.onreadystatechange = function () {
				if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {
					waitlist.refreshList();
				}
			};
			xhr.send();
		}

		//侧边按钮
		document.getElementById("scrolltop_btn").onclick = function () {
			if ($("#process_icon").html() == "arrow_upward") {
				Main.scrollTo(0, 0);
			}
			if ($("#process_icon").html() == "done") {

				$("#process_icon").html("arrow_upward");
			}
		}

		//收入待看文章列表
		var userId = 1;
		var url_WaitNewsList = "http://localhost:8080/WaitNewsList?userId=" + userId + "&newsId=" + nowread_newsId;
		document.getElementById("add_waitnews_btn").onclick = function () {
			var xhr = new XMLHttpRequest();
			var url = url_WaitNewsList;
			xhr.open("POST", url, true);
			var this_list = this;
			xhr.onreadystatechange = function () {
				if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {
					waitlist.refreshList();
				}
			};
			xhr.send();
		}
	</script>
</body>

</html>